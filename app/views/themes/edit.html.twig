{% extends theme.template %}
{% block head %}
<link rel="stylesheet" media="screen" type="text/css" href="{{config.js_url}}/vendor/colorpicker/css/colorpicker.css" />
<script type="text/javascript" src="{{config.js_url}}/vendor/colorpicker/colorpicker.js"></script>
{% endblock %}
{% block content %}
<section>
    <div class="row">
        <div class="span11">
            {% if flash.message %}
                <div class="alert alert-info">{{flash.message}}<button type="button" class="close" data-dismiss="alert">&times;</button></div>
            {% endif %}
            {% if flash.error %}
                <div class="alert">{{flash.error}}<button type="button" class="close" data-dismiss="alert">&times;</button></div>
            {% endif %}  
        </div>
    </div>
    <div class="row">
        <div class="span8 offset2">
            <h2>{{'Edit theme'|i18n}}</h2>
            {{form.render}}
        </div>
    </div>   
</section>

{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{{config.js_url}}/vendor/colorpicker/colorpicker.js"></script>
<script type="text/javascript">
    $("input[type='color']").ColorPicker({
        onSubmit: function(hsb, hex, rgb, el) {
		$(el).val('#' + hex);
		$(el).ColorPickerHide();
	},
	onBeforeShow: function () {
		$(this).ColorPickerSetColor(this.value);
	}}); 
</script>
{% endblock %}